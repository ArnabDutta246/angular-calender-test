<div class="wrapper">
  <div
    [ngClass]="!showNavMenu ? 'navTestClose col-lg-12' : 'navTest col-lg-12'"
    (click)="sideNavOpen()"
  >
    <div class="row">
      <div class="col-sm-12 col-md-4 col-lg-3">
        <div class="menu">
          <div class="" id="">
            <div class="p-0" id="">
              <div class="close_button btn float-right m-2">
                <h5>&times;</h5>
              </div>
              <div class="clearfix"></div>

              <div class="logo px-3">
                <img
                  src="../../../assets/image/imgs/logo.png"
                  alt="occurens logo"
                  srcset=""
                />
              </div>
              <br /><br /><br />
              <ng-container *ngIf="currentUser.role === 'ADMIN'">
                <!-- <span class="sideNav-sec-name">Admin section</span> -->
                <a routerLink="/panel/member-management">
                  <div
                    class="menu-link text-center"
                    routerLinkActive="active-url"
                  >
                    <i class="fas fa-users mr-3"></i>
                    <span>Members</span>
                  </div>
                </a>
                <a routerLink="/panel/regions">
                  <div
                    class="menu-link text-center"
                    routerLinkActive="active-url"
                  >
                    <i class="far fa-credit-card mr-3"></i>
                    <span>Manage Regions</span>
                  </div>
                </a>
              </ng-container>
              <div
                [ngClass]="
                  currentUser.role === 'ADMIN' &&
                  currentUser.subscriberId === 'APPSOLZONE001'
                    ? 'd-none'
                    : ''
                "
              >
                <a routerLink="/panel/dashboard">
                  <div
                    class="menu-link text-center"
                    routerLinkActive="active-url"
                  >
                    <i class="fab fa-houzz mr-3"></i>
                    <span>Dashboard</span>
                  </div>
                </a>
              </div>
              <!---------------------- for supper admin------------>
              <div
                [ngClass]="
                  currentUser.role === 'ADMIN' &&
                  currentUser.subscriberId === 'APPSOLZONE001'
                    ? ''
                    : 'd-none'
                "
              >
                <a routerLink="/panel/maintenance">
                  <div
                    class="menu-link text-center"
                    routerLinkActive="active-url"
                  >
                    <!-- <i class="fas fa-tasks mr-3"></i> -->
                    <img
                      src="../../../assets/image/imgs/tasks.png"
                      alt="dashboard icon"
                    />
                    <span>Maintenance</span>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--================ navbar fixed for extra large screen ============-->
  <div class="nav_for_extra_large">
    <div class="menu">
      <div class="" id="">
        <div class="p-0" id="">
          <div class="close_button float-right m-2">
            <h5>&times;</h5>
          </div>
          <div class="clearfix"></div>

          <div class="logo px-3">
            <img
              src="../../../assets/image/imgs/logo.png"
              alt="occurens logo"
              srcset=""
            />
          </div>
          <br /><br /><br />
          <ng-container *ngIf="currentUser.role === 'ADMIN'">
            <!-- <span class="sideNav-sec-name">Admin section</span> -->
            <a routerLink="/panel/member-management">
              <div class="menu-link text-center" routerLinkActive="active-url">
                <i class="fas fa-users mr-3"></i>
                <span>Members</span>
              </div>
            </a>
            <a routerLink="/panel/regions">
              <div class="menu-link text-center" routerLinkActive="active-url">
                <i class="fas fa-globe-americas mr-3"></i>
                <span>Manage Regions</span>
              </div>
            </a>
          </ng-container>
          <div
            [ngClass]="
              currentUser.role === 'ADMIN' &&
              currentUser.subscriberId === 'APPSOLZONE001'
                ? 'd-none'
                : ''
            "
          >
            <a routerLink="/panel/dashboard">
              <div class="menu-link text-center" routerLinkActive="active-url">
                <i class="fab fa-houzz mr-3"></i>
                <span>Dashboard</span>
              </div>
            </a>
          </div>
          <!---------------------- for supper admin------------>
          <div
            [ngClass]="
              currentUser.role === 'ADMIN' &&
              currentUser.subscriberId === 'APPSOLZONE001'
                ? ''
                : 'd-none'
            "
          >
            <a routerLink="/panel/maintenance">
              <div class="menu-link text-center" routerLinkActive="active-url">
                <!-- <i class="fas fa-tasks mr-3"></i> -->
                <img
                  src="../../../assets/image/imgs/tasks.png"
                  alt="dashboard icon"
                />
                <span>Maintenance</span>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!--================ navbar fixed for extra large screen =============-->

  <div class="all-content flex-fill" id="allContent">
    <!--------------------------- top panel bar ---------------->
    <div
      class="top-bar d-flex flex-row justify-content-between align-item-center"
    >
      <div id="openNav" (click)="sideNavOpen()" class="p-2">
        <i class="fas fa-bars"></i>
      </div>

      <ul class="nav justify-content-end">
        <li class="nav-item">
          <div class="nav-link nav-links-custom" (click)="openNotification()">
            <i class="far fa-bell notification-icon"
              ><span
                class="notification-badge"
                [ngClass]="allNotification.length > 0 ? '' : 'd-none'"
              ></span
            ></i>
          </div>
        </li>
        <li class="nav-item">
          <div class="nav-link dropdown mr-1">
            <div
              type="button"
              class="dropdown-toggle profile"
              id="dropdownMenuOffset"
              data-toggle="dropdown"
              aria-haspopup="true"
              aria-expanded="false"
              data-offset="5,17"
            >
              <img
                [src]="
                  currentUser.picUrl !== ''
                    ? currentUser.picUrl
                    : '../../../assets/image/imgs/profile.png'
                "
                alt=""
                (error)="profileImgErrorHandler(currentUser)"
              />
            </div>
            <div class="dropdown-menu" aria-labelledby="dropdownMenuOffset">
              <a class="dropdown-item" [routerLink]="['/panel/user-profile']">
                Profile</a
              >
              <a
                class="dropdown-item"
                style="cursor: pointer"
                (click)="logOut()"
                >Sign-out</a
              >
            </div>
          </div>
        </li>
      </ul>
    </div>
    <!---------------------notification container------------------->
    <div id="mySidenav" class="sidenav">
      <a
        href="javascript:void(0)"
        id="clsBtn"
        class="closebtn"
        (click)="closeNotification()"
        >&times;</a
      >
      <div class="notification_container">
        <div
          class="notification_card d-flex align-items-start"
          *ngFor="let data of allNotification; let i = index"
        >
          <div>
            <img
              *ngIf="data.Origin === originArr[0]"
              src="../../../assets/image/icons/meeting.png"
            />
            <img
              *ngIf="data.Origin === originArr[1]"
              src="../../../assets/image/icons/icon-7.png"
            />
            <img
              *ngIf="data.Origin === originArr[2]"
              src="../../../assets/image/icons/icon-5.png"
            />
            <img
              *ngIf="data.Origin === originArr[3]"
              src="../../../assets/image/icons/icon-6.png"
            />
            <!-- <img
              *ngIf="data.Origin === originArr[4]"
              src="../../../assets/image/icons/icon-6.png"
            /> -->
            <i
              class="fas fa-bullhorn"
              style="font-size: 22px"
              *ngIf="data.Origin === originArr[4]"
            ></i>
          </div>

          <div class="pt-1" style="width: 100%">
            <span class="title">{{ data.refValues.title }}</span
            ><br />
            <span class="notification_date">
              {{
                data.notificationTime.toDate() | date: "MMM d, y h:mm a"
              }}</span
            ><br />
            <p class="msg">{{ data.msgBody }}</p>

            <div class="btn_section">
              <button
                class="btn btn-sm btn-success custom_btn"
                *ngIf="
                  data.Origin == 'meetings' && data.Actions.Action1 === 'Accept'
                "
                (click)="accept_meeting(data, i)"
              >
                Accept
              </button>
              <button
                class="btn btn-sm btn-danger mx-1 custom_btn"
                (click)="reject_dismiss(data, i)"
              >
                {{
                  data.Origin == "meetings"
                    ? data.Actions.Action1 === "Dismiss"
                      ? "Dismiss"
                      : "Reject"
                    : "Dismiss"
                }}
              </button>
            </div>
          </div>
        </div>
        <div
          class="notification_card d-flex align-items-start"
          *ngIf="allNotification.length === 0"
        >
          <div>
            <img src="../../../assets/image/imgs/icon.png" />
          </div>

          <div class="pt-1">
            <span class="title">No new notifications</span><br />
            <span class="notification_date">
              {{ currTime | date: "MMM d, y h:mm a" }}</span
            ><br />
            <p class="msg">
              Please note that there is no new notification for you as of
              {{ currTime | date: "MMM d, y h:mm a" }}
            </p>
          </div>
        </div>
      </div>
    </div>
    <!--------------------------- top panel bar  ------------------>
    <router-outlet></router-outlet>
  </div>
</div>
